(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{208:function(e,n,t){e.exports=t(240)},213:function(e,n,t){},214:function(e,n,t){},240:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(13),o=t.n(i),c=(t(213),t(214),t(266)),l=t(18),s=t(2),u=t(9),d=t(14),m=t.n(d),f=t(8),p=t(38),h=t(103),y=t.n(h);function g(){return(g=Object(p.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("data.json");case 2:return n=e.sent,e.abrupt("return",Object.entries(n.data).map((function(e){var n=Object(f.a)(e,2),t=n[0],r=n[1];return Object(s.a)(Object(s.a)({},r),{},{doi:t})})).filter((function(e){return e.title.length})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w={setKeywords:Object(u.createAction)("OVERVIEW/SET_KEYWORDS",(function(e){return e}))(),setSeedPapers:Object(u.createAction)("OVERVIEW/SET_SEED_PAPERS",(function(e){return e}))(),setMarkedPapers:Object(u.createAction)("OVERVIEW/SET_MARKED_PAPERS",(function(e){return e}))(),setHistories:Object(u.createAction)("OVERVIEW/SET_HISTORIES",(function(e){return e}))(),setWeights:Object(u.createAction)("OVERVIEW/SET_WEIGHTS",(function(e){return e}))(),selectHistory:Object(u.createAction)("OVERVIEW/SELECT_HISTORY",(function(e){return e}))()},b={getData:function(e,n,t){var r=Object(u.createAction)(e,(function(e){return e}))(),a=Object(u.createAction)(n,(function(e,n){return e}),(function(e,n){return n}))();return{fetch:r,complete:a,thunk:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(){var e=Object(p.a)(m.a.mark((function e(i){var o,c,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.apply(void 0,n),c=o.request,l=o.response,i(r(c)),e.t0=i,e.t1=a,e.next=6,l();case 6:e.t2=e.sent,e.t3=c,e.t4=(0,e.t1)(e.t2,e.t3),(0,e.t0)(e.t4);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}}("OVERVIEW/GET_DATA/fetch","OVERVIEW/GET_DATA/complete",(function(){return{request:{},response:function(){return function(){return g.apply(this,arguments)}()}}}))},v=Object(s.a)(Object(s.a)({},b),w),E=t(25),O=function(){return Object(E.b)()};function j(e){return Object(E.c)(e)}var S=t(10),k=t(257),P=t(267),x=t(268),C=t(264),R=t(265),V=t(258),A=function(e){var n=e.onClose,t=Object(r.useState)(j((function(e){return e.overview.weights}))),i=Object(f.a)(t,2),o=i[0],u=i[1],d=O();return a.a.createElement(l.a,{direction:"column",pad:"medium"},a.a.createElement(c.a,{columns:["1fr","1fr"],gap:"small"},a.a.createElement("div",null,"Keyword Similarities"),a.a.createElement("input",{type:"number",value:o.keywordSimilarity.maxVal,onChange:function(e){return u(Object(s.a)(Object(s.a)({},o),{},{keywordSimilarity:Object(s.a)(Object(s.a)({},o.keywordSimilarity),{},{maxVal:+e.target.value})}))}}),o.keywordSimilarity.components.map((function(e,n){var t=e.keyword,r=e.weight;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{paddingLeft:40}},t),a.a.createElement("input",{style:{marginLeft:40},value:r,onChange:function(e){return u(Object(s.a)(Object(s.a)({},o),{},{keywordSimilarity:Object(s.a)(Object(s.a)({},o.keywordSimilarity),{},{components:o.keywordSimilarity.components.map((function(t,r){return n!==r?t:Object(s.a)(Object(s.a)({},t),{},{weight:+e.target.value})}))})}))}}))})),a.a.createElement("div",null,"Seed paper Similarities"),a.a.createElement("input",{type:"number",value:o.seedPaperSimilarity.maxVal,onChange:function(e){return u(Object(s.a)(Object(s.a)({},o),{},{seedPaperSimilarity:Object(s.a)(Object(s.a)({},o.seedPaperSimilarity),{},{maxVal:+e.target.value})}))}}),o.seedPaperSimilarity.components.map((function(e,n){var t=e.entry,r=e.weight;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{paddingLeft:40,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},t.title),a.a.createElement("input",{style:{marginLeft:40},value:r,onChange:function(e){return u(Object(s.a)(Object(s.a)({},o),{},{seedPaperSimilarity:Object(s.a)(Object(s.a)({},o.seedPaperSimilarity),{},{components:o.seedPaperSimilarity.components.map((function(t,r){return n!==r?t:Object(s.a)(Object(s.a)({},t),{},{weight:+e.target.value})}))})}))}}))})),a.a.createElement("div",null,"Referenced by Seed papers"),a.a.createElement("input",{type:"number",value:o.referencedBySeedPapers.maxVal,onChange:function(e){return u(Object(s.a)(Object(s.a)({},o),{},{referencedBySeedPapers:Object(s.a)(Object(s.a)({},o.referencedBySeedPapers),{},{maxVal:+e.target.value})}))}}),o.referencedBySeedPapers.components.map((function(e,n){var t=e.entry,r=e.weight;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{paddingLeft:40,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},t.title),a.a.createElement("input",{style:{marginLeft:40},value:r,onChange:function(e){return u(Object(s.a)(Object(s.a)({},o),{},{referencedBySeedPapers:Object(s.a)(Object(s.a)({},o.referencedBySeedPapers),{},{components:o.referencedBySeedPapers.components.map((function(t,r){return n!==r?t:Object(s.a)(Object(s.a)({},t),{},{weight:+e.target.value})}))})}))}}))})),a.a.createElement("div",null,"References Seed papers"),a.a.createElement("input",{type:"number",value:o.referencesSeedPapers.maxVal,onChange:function(e){return u(Object(s.a)(Object(s.a)({},o),{},{referencesSeedPapers:Object(s.a)(Object(s.a)({},o.referencesSeedPapers),{},{maxVal:+e.target.value})}))}}),o.referencesSeedPapers.components.map((function(e,n){var t=e.entry,r=e.weight;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:{paddingLeft:40,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},t.title),a.a.createElement("input",{style:{marginLeft:40},value:r,onChange:function(e){return u(Object(s.a)(Object(s.a)({},o),{},{referencesSeedPapers:Object(s.a)(Object(s.a)({},o.referencesSeedPapers),{},{components:o.referencesSeedPapers.components.map((function(t,r){return n!==r?t:Object(s.a)(Object(s.a)({},t),{},{weight:+e.target.value})}))})}))}}))}))),a.a.createElement(l.a,{fill:!0,justify:"center",margin:{top:"small"}},a.a.createElement(C.a,{primary:!0,color:"dark-2",label:"Apply",onClick:function(){d(v.setWeights(o)),n()}})))},B=t(5);var I=function(e){var n=e.fromEntries,t=e.toEntries,i=e.markedEntries,o=e.setMarkedEntries,c=e.offsetHeight,l=e.cellHeight,s=e.onSelect,u=100*l,d=Object(r.useRef)(null);Object(r.useEffect)((function(){console.log("cell"),B.g(d.current).select("svg").select(".history").selectAll(".cell-history").data(n).join("rect").classed("cell-history",!0).attr("x",0).attr("y",(function(e,n){return n*l})).attr("height",.8*l).attr("width",50).attr("stroke","black").attr("stroke-width",1).attr("fill",(function(e){return i.map((function(e){return e.doi})).includes(e.doi)?"red":"white"})).on("click",(function(e,n){return function(e,n){i.map((function(e){return e.doi})).includes(n.doi)?o(i.filter((function(e){return n.doi!==e.doi}))):o(i.concat([n]))}(0,n)}))}),[n]),Object(r.useEffect)((function(){var e=B.g(d.current).select("svg").select(".history"),r=[];t.forEach((function(e,t){var a=n.findIndex((function(n){return n.doi===e.doi}));r.push({fromIndex:a,fromDoi:a>=0?n[a].doi:"",toIndex:t,toDoi:e.doi})})),e.selectAll(".line-history").data(r).join("line").classed("line-history",!0).attr("x1",(function(e){return e.fromIndex>=0?50:198})).attr("y1",(function(e){return e.fromIndex>=0?(e.fromIndex+.5)*l:(e.toIndex+.5)*l})).attr("x2",200).attr("y2",(function(e){return(e.toIndex+.5)*l})).attr("stroke",(function(e){return i.map((function(e){return e.doi})).includes(e.toDoi)?"red":"black"})).attr("stroke-width",.6*l).attr("stroke-linecap","round").attr("opacity",(function(e){return i.map((function(e){return e.doi})).includes(e.toDoi)?.5:.2})).on("click",(function(e,n){return function(e,n){var r=t.filter((function(e){return e.doi===n.toDoi}))[0];i.map((function(e){return e.doi})).includes(r.doi)?o(i.filter((function(e){return r.doi!==e.doi}))):o(i.concat([r]))}(0,n)}))}),[t]),Object(r.useEffect)((function(){}),[c,l]);return a.a.createElement("div",{ref:d,style:{width:200}},a.a.createElement("div",{className:"history-header",style:{width:200,height:c}},a.a.createElement("button",{onClick:function(){s()}},"Restore")),a.a.createElement("svg",{height:u,width:200},a.a.createElement("g",{className:"history",height:100*l,width:200})))},T=function(e){var n=e.similarities,t=e.maxOfSum,i=Object(r.useRef)(null),o=Object(r.useState)(null),c=Object(f.a)(o,2),l=c[0],s=c[1],u=Object(r.useState)(null),d=Object(f.a)(u,2),m=d[0],p=d[1];return Object(r.useLayoutEffect)((function(){!i.current||l&&m||(s(i.current.getBoundingClientRect().width),p(i.current.getBoundingClientRect().height))})),a.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%",height:"100%"},ref:i},l&&m&&n.map((function(e,n){return a.a.createElement("div",{style:{marginTop:.25*m,height:.5*m,width:e/t*l*.8,marginLeft:n?0:e/t*l*.1,backgroundColor:B.f[Math.min(9,n)]}})})))},L=t(253),M=t(254),W=t(255),K=t(256),D=function(e){var n=e.entry,t=Object(r.useState)(!1),i=Object(f.a)(t,2),o=i[0],c=i[1];return a.a.createElement("div",{onClick:function(){c(!0)},style:{textOverflow:"ellipsis",overflow:"hidden"}},a.a.createElement("strong",{style:{whiteSpace:"nowrap"}},n.title),o&&a.a.createElement(R.a,{onEsc:function(){return c(!1)},onClickOutside:function(){return c(!1)}},a.a.createElement(L.a,null,a.a.createElement(M.a,null,a.a.createElement(W.a,null,a.a.createElement(K.a,{scope:"row"},"Title"),a.a.createElement(K.a,null,n.title)),a.a.createElement(W.a,null,a.a.createElement(K.a,{scope:"row"},"Year"),a.a.createElement(K.a,null,n.year)),a.a.createElement(W.a,null,a.a.createElement(K.a,{scope:"row"},"Abstract"),a.a.createElement(K.a,null,n.abstract))))))},H=function(){var e=j((function(e){return[].concat(Object(S.a)(e.overview.histories),[e.overview])})),n=Math.min(2,e.length-1),t=j((function(e){return e.overview.seedPapers})),i=(j((function(e){return e.overview.keywords})),j((function(e){return e.overview.paperEntries.filter((function(e){return!t.map((function(e){return e.doi})).includes(e.doi)})).slice(0,100)}))),o=j((function(e){return e.overview.markedPapers})),s=(j((function(e){return e.overview.weights})),function(e){return u(v.setMarkedPapers(e))}),u=O(),d=Object(r.useState)(!1),m=Object(f.a)(d,2),p=m[0],h=m[1];return a.a.createElement(k.a,{fill:!0,background:"white",overflow:{vertical:"scroll"}},a.a.createElement(P.a,{pad:"small"},a.a.createElement(l.a,{direction:"row",gap:"small",align:"baseline"},a.a.createElement(x.a,{level:"4"},"Papers"),a.a.createElement(C.a,{color:"blue",onClick:function(){h(!0)}},"Adjust weight"),p&&a.a.createElement(R.a,{onEsc:function(){return h(!1)},onClickOutside:function(){return h(!1)}},a.a.createElement(A,{onClose:function(){return h(!1)}})))),a.a.createElement(V.a,{pad:"small",gap:"small"},a.a.createElement(c.a,{columns:[].concat(Object(S.a)(Array(n).fill(0).map((function(e){return"auto"}))),["1fr"]),fill:!0},Array(n).fill(0).map((function(t,r){var i=e.slice(-(n-1-r+2))[0],c=e.slice(-(n-1-r+1))[0];return a.a.createElement(I,{fromEntries:i.paperEntries.filter((function(e){return!i.seedPapers.map((function(e){return e.doi})).includes(e.doi)})).slice(0,100),toEntries:c.paperEntries.filter((function(e){return!c.seedPapers.map((function(e){return e.doi})).includes(e.doi)})).slice(0,100),markedEntries:o,setMarkedEntries:s,onSelect:function(){u(v.selectHistory(i))},offsetHeight:40,cellHeight:20})})),a.a.createElement("div",null,a.a.createElement(c.a,{rows:["40px"].concat(Object(S.a)(i.map((function(e){return"20px"})))),columns:["auto","4fr","1fr","1fr","1fr","1fr","1fr","1fr","1fr"]},a.a.createElement("div",null),a.a.createElement("div",null,"Title"),a.a.createElement("div",null,"Year"),a.a.createElement("div",null,"# References"),a.a.createElement("div",null,"# Referenced"),a.a.createElement("div",null,"Keyword Similarity"),a.a.createElement("div",null,"Seed Paper Similarity"),a.a.createElement("div",null,"Referenced by Seed Papers"),a.a.createElement("div",null,"References Seed Papers"),i&&i.map((function(e,n){return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.a,{direction:"row",align:"baseline",gap:"small",margin:{horizontal:"small"}},a.a.createElement(C.a,{onClick:function(){t.includes(e)||u(v.setSeedPapers([].concat(Object(S.a)(t),[e])))}},"SEED"),a.a.createElement(C.a,{style:{backgroundColor:o.map((function(e){return e.doi})).includes(e.doi)?"purple":"white"},onClick:function(){o.map((function(e){return e.doi})).includes(e.doi)?u(v.setMarkedPapers(o.filter((function(n){return n.doi!==e.doi})))):u(v.setMarkedPapers([].concat(Object(S.a)(o),[e])))}},"MARK")),a.a.createElement(D,{entry:e}),a.a.createElement("div",null,e.year),a.a.createElement("div",null,e.numReferencing),a.a.createElement("div",null,e.numReferenced),a.a.createElement("div",null,a.a.createElement(T,{similarities:e.keywordSims,maxOfSum:1})),a.a.createElement("div",null,a.a.createElement(T,{similarities:e.seedPaperSims,maxOfSum:1})),a.a.createElement("div",null,a.a.createElement(T,{similarities:e.referencedBySeedPapers,maxOfSum:1})),a.a.createElement("div",null,a.a.createElement(T,{similarities:e.referencesSeedPapers,maxOfSum:1})))})))))))},z=t(259),_=t(263),F=t(260),q=t(120),N=t(269),Y=t(261),G=t(262),J=function(){var e=Object(r.useState)(""),n=Object(f.a)(e,2),t=n[0],i=n[1],o=j((function(e){return e.overview.keywords})),c=j((function(e){return e.overview.seedPapers})),s=O();return a.a.createElement(k.a,{height:"100%",width:"100%",background:"white"},a.a.createElement(P.a,{pad:"small"},a.a.createElement(x.a,{level:"4"},"Search Box")),a.a.createElement(V.a,{pad:"small",gap:"small"},a.a.createElement(l.a,{direction:"row",align:"baseline",gap:"small"},a.a.createElement(x.a,{level:"5"},"Keywords"),a.a.createElement(C.a,{color:"blue",onClick:function(){s(v.setKeywords([]))}},"clear")),a.a.createElement(z.a,{onSubmit:function(){s(v.setKeywords([].concat(Object(S.a)(o),[t]))),i("")}},a.a.createElement(_.a,{value:t,onChange:function(e){return i(e.target.value)}}),a.a.createElement(F.a,{data:o.map((function(e){return{entry:e}})),primaryKey:function(e){return e.entry},pad:{left:"small",right:"none",top:"none",bottom:"none"}},(function(e,n){return a.a.createElement(l.a,{key:e.doi,direction:"row-responsive",gap:"medium",align:"center"},a.a.createElement("div",{style:{width:20,height:20,backgroundColor:B.f[Math.min(n,9)]}}),a.a.createElement(q.a,{size:"small"},e.entry),a.a.createElement(C.a,{icon:a.a.createElement(Y.a,{size:"small"}),hoverIndicator:!0,onClick:function(){s(v.setKeywords(o.filter((function(n){return n!==e.entry}))))}}))}))),a.a.createElement(l.a,{direction:"row",align:"baseline",gap:"small"},a.a.createElement(x.a,{level:"5"},"Seed papers"),a.a.createElement(C.a,{color:"blue",onClick:function(){s(v.setSeedPapers([]))}},"clear")),a.a.createElement(z.a,{onSubmit:function(){}},a.a.createElement(F.a,{data:c.map((function(e){return e})),primaryKey:function(e){return e.title},pad:{left:"small",right:"none",top:"none",bottom:"none"}},(function(e,n){return a.a.createElement(l.a,{key:e.doi,direction:"row-responsive",gap:"medium",align:"center"},a.a.createElement("div",{style:{width:20,minWidth:20,height:20,backgroundColor:B.f[Math.min(n,9)]}}),a.a.createElement(q.a,{size:"small"},e.title),a.a.createElement(C.a,{icon:a.a.createElement(Y.a,{size:"small"}),hoverIndicator:!0,onClick:function(){s(v.setSeedPapers(c.filter((function(n){return n!==e}))))}}))})))),a.a.createElement(N.a,{pad:{horizontal:"small"},background:"light-1",justify:"end"},a.a.createElement(C.a,{onClick:function(){},icon:a.a.createElement(G.a,{color:"plain"}),hoverIndicator:!0})))},Z=new Set("a\nable\nabout\nabove\nabst\naccordance\naccording\naccordingly\nacross\nact\nactually\nadded\nadj\naffected\naffecting\naffects\nafter\nafterwards\nagain\nagainst\nah\nall\nalmost\nalone\nalong\nalready\nalso\nalthough\nalways\nam\namong\namongst\nan\nand\nannounce\nanother\nany\nanybody\nanyhow\nanymore\nanyone\nanything\nanyway\nanyways\nanywhere\napparently\napproximately\nare\naren\narent\narise\naround\nas\naside\nask\nasking\nat\nauth\navailable\naway\nawfully\nb\nback\nbe\nbecame\nbecause\nbecome\nbecomes\nbecoming\nbeen\nbefore\nbeforehand\nbegin\nbeginning\nbeginnings\nbegins\nbehind\nbeing\nbelieve\nbelow\nbeside\nbesides\nbetween\nbeyond\nbiol\nboth\nbrief\nbriefly\nbut\nby\nc\nca\ncame\ncan\ncannot\ncan't\ncause\ncauses\ncertain\ncertainly\nco\ncom\ncome\ncomes\ncontain\ncontaining\ncontains\ncould\ncouldnt\nd\ndate\ndid\ndidn't\ndifferent\ndo\ndoes\ndoesn't\ndoing\ndone\ndon't\ndown\ndownwards\ndue\nduring\ne\neach\ned\nedu\neffect\neg\neight\neighty\neither\nelse\nelsewhere\nend\nending\nenough\nespecially\net\net-al\netc\neven\never\nevery\neverybody\neveryone\neverything\neverywhere\nex\nexcept\nf\nfar\nfew\nff\nfifth\nfirst\nfive\nfix\nfollowed\nfollowing\nfollows\nfor\nformer\nformerly\nforth\nfound\nfour\nfrom\nfurther\nfurthermore\ng\ngave\nget\ngets\ngetting\ngive\ngiven\ngives\ngiving\ngo\ngoes\ngone\ngot\ngotten\nh\nhad\nhappens\nhardly\nhas\nhasn't\nhave\nhaven't\nhaving\nhe\nhed\nhence\nher\nhere\nhereafter\nhereby\nherein\nheres\nhereupon\nhers\nherself\nhes\nhi\nhid\nhim\nhimself\nhis\nhither\nhome\nhow\nhowbeit\nhowever\nhundred\ni\nid\nie\nif\ni'll\nim\nimmediate\nimmediately\nimportance\nimportant\nin\ninc\nindeed\nindex\ninformation\ninstead\ninto\ninvention\ninward\nis\nisn't\nit\nitd\nit'll\nits\nitself\ni've\nj\njust\nk\nkeep\tkeeps\nkept\nkg\nkm\nknow\nknown\nknows\nl\nlargely\nlast\nlately\nlater\nlatter\nlatterly\nleast\nless\nlest\nlet\nlets\nlike\nliked\nlikely\nline\nlittle\n'll\nlook\nlooking\nlooks\nltd\nm\nmade\nmainly\nmake\nmakes\nmany\nmay\nmaybe\nme\nmean\nmeans\nmeantime\nmeanwhile\nmerely\nmg\nmight\nmillion\nmiss\nml\nmore\nmoreover\nmost\nmostly\nmr\nmrs\nmuch\nmug\nmust\nmy\nmyself\nn\nna\nname\nnamely\nnay\nnd\nnear\nnearly\nnecessarily\nnecessary\nneed\nneeds\nneither\nnever\nnevertheless\nnew\nnext\nnine\nninety\nno\nnobody\nnon\nnone\nnonetheless\nnoone\nnor\nnormally\nnos\nnot\nnoted\nnothing\nnow\nnowhere\no\nobtain\nobtained\nobviously\nof\noff\noften\noh\nok\nokay\nold\nomitted\non\nonce\none\nones\nonly\nonto\nor\nord\nother\nothers\notherwise\nought\nour\nours\nourselves\nout\noutside\nover\noverall\nowing\nown\np\npage\npages\npart\nparticular\nparticularly\npast\nper\nperhaps\nplaced\nplease\nplus\npoorly\npossible\npossibly\npotentially\npp\npredominantly\npresent\npreviously\nprimarily\nprobably\npromptly\nproud\nprovides\nput\nq\nque\nquickly\nquite\nqv\nr\nran\nrather\nrd\nre\nreadily\nreally\nrecent\nrecently\nref\nrefs\nregarding\nregardless\nregards\nrelated\nrelatively\nresearch\nrespectively\nresulted\nresulting\nresults\nright\nrun\ns\nsaid\nsame\nsaw\nsay\nsaying\nsays\nsec\nsection\nsee\nseeing\nseem\nseemed\nseeming\nseems\nseen\nself\nselves\nsent\nseven\nseveral\nshall\nshe\nshed\nshe'll\nshes\nshould\nshouldn't\nshow\nshowed\nshown\nshowns\nshows\nsignificant\nsignificantly\nsimilar\nsimilarly\nsince\nsix\nslightly\nso\nsome\nsomebody\nsomehow\nsomeone\nsomethan\nsomething\nsometime\nsometimes\nsomewhat\nsomewhere\nsoon\nsorry\nspecifically\nspecified\nspecify\nspecifying\nstill\nstop\nstrongly\nsub\nsubstantially\nsuccessfully\nsuch\nsufficiently\nsuggest\nsup\nsure\tt\ntake\ntaken\ntaking\ntell\ntends\nth\nthan\nthank\nthanks\nthanx\nthat\nthat'll\nthats\nthat've\nthe\ntheir\ntheirs\nthem\nthemselves\nthen\nthence\nthere\nthereafter\nthereby\nthered\ntherefore\ntherein\nthere'll\nthereof\ntherere\ntheres\nthereto\nthereupon\nthere've\nthese\nthey\ntheyd\nthey'll\ntheyre\nthey've\nthink\nthis\nthose\nthou\nthough\nthoughh\nthousand\nthroug\nthrough\nthroughout\nthru\nthus\ntil\ntip\nto\ntogether\ntoo\ntook\ntoward\ntowards\ntried\ntries\ntruly\ntry\ntrying\nts\ntwice\ntwo\nu\nun\nunder\nunfortunately\nunless\nunlike\nunlikely\nuntil\nunto\nup\nupon\nups\nus\nuse\nused\nuseful\nusefully\nusefulness\nuses\nusing\nusually\nv\nvalue\nvarious\n've\nvery\nvia\nviz\nvol\nvols\nvs\nw\nwant\nwants\nwas\nwasnt\nway\nwe\nwed\nwelcome\nwe'll\nwent\nwere\nwerent\nwe've\nwhat\nwhatever\nwhat'll\nwhats\nwhen\nwhence\nwhenever\nwhere\nwhereafter\nwhereas\nwhereby\nwherein\nwheres\nwhereupon\nwherever\nwhether\nwhich\nwhile\nwhim\nwhither\nwho\nwhod\nwhoever\nwhole\nwho'll\nwhom\nwhomever\nwhos\nwhose\nwhy\nwidely\nwilling\nwish\nwith\nwithin\nwithout\nwont\nwords\nworld\nwould\nwouldnt\nwww\nx\ny\nyes\nyet\nyou\nyoud\nyou'll\nyour\nyoure\nyours\nyourself\nyourselves\nyou've\nz\nzero".split("\n"));function $(e){return e.reduce((function(e,n){return Math.max(e,n.reduce((function(e,n){return e+n}),0))}),0)}function Q(e){return e.split(" ").map((function(e){return e.toLowerCase().replace(/[^a-zA-Z\-]/g,"")})).filter((function(e){return e.length>=2&&!Z.has(e.toLowerCase())}))}var U=function(e){var n=e.svgWidth,t=(e.userInputKeywords,e.wordCounts),r=e.onClick,i=t.reduce((function(e,n){return Math.max(e,n.count)}),0);console.log({maxCount:i});return a.a.createElement("svg",{width:n,height:25*t.length},t.map((function(e,t){var o=e.word,c=e.count,l=e.isSelected;return a.a.createElement(a.a.Fragment,null,a.a.createElement("rect",{x:n/2,y:25*t,onClick:function(){return r(o)},width:c/i*n*.4,height:20,fill:l?B.f[Math.min(9,l.index)]:"rgba(128, 128, 128, 0.3)"}),a.a.createElement("text",{x:0,y:25*t+15},o))})))},X=function(){var e=O(),n=j((function(e){return e.overview.keywords})),t=j((function(e){return e.overview.seedPapers})),i=Object(r.useMemo)((function(){var e={};return t.forEach((function(n){Q(n.title+" "+n.abstract).forEach((function(n){return e[n]?e[n]+=1:e[n]=1})),n.keywords.forEach((function(n){return e[n]?e[n]+=1:e[n]=1})),n.title.split(" ").forEach((function(n){return e[n]?e[n]+=1:e[n]=1}))})),Object.entries(e).sort((function(e,n){return n[1]-e[1]})).slice(0,50).map((function(e){var t=Object(f.a)(e,2),r=t[0],a=t[1];return{word:r,count:a,isSelected:n.map((function(e,n){return{keyword:e,index:n}})).find((function(e){var n=e.keyword;e.index;return n.split(" ").includes(r)}))}}))}),[n,t]);console.log({wordCounts:i});var o=Object(r.useRef)(null),c=Object(r.useState)(null),l=Object(f.a)(c,2),s=l[0],u=l[1];return Object(r.useLayoutEffect)((function(){o.current&&!s&&u(o.current.getBoundingClientRect().width)})),a.a.createElement("div",{style:{height:"100%",width:"100%",overflowY:"scroll"},ref:o},s&&a.a.createElement(U,{svgWidth:.9*s,userInputKeywords:n,wordCounts:i,onClick:function(t){n.includes(t)?e(v.setKeywords(n.filter((function(e){return e!==t})))):e(v.setKeywords([].concat(Object(S.a)(n),[t])))}}))},ee=function(e){var n=e.svgWidth,t=e.svgHeight,i=e.seedPapers,o=e.markedPapers,c=e.xLabel,l=e.yLabel,s=e.xThreshold,u=e.yThreshold,d=e.onClick,m=[].concat(Object(S.a)(i),Object(S.a)(o));console.log(i.map((function(e){return e[c]})),i.map((function(e){return e[l]}))),console.log(o.map((function(e){return e[c]})),o.map((function(e){return e[l]})));var f=10,p=40,h=t-f-20,y=n-p-10;Object(r.useRef)(null);Object(r.useEffect)((function(){B.g(".seed-scatter").selectAll("*").remove();var e=B.g(".seed-scatter").append("svg").attr("width",n).attr("height",t).append("g").attr("transform","translate("+p+","+f+")"),r=B.e().domain(B.c(m.map((function(e){return e[l]})))).range([h,0]),a=B.e().domain(B.c(m.map((function(e){return e[c]})))).range([0,y]),g=r.ticks().filter((function(e){return Number.isInteger(e)})),w=B.b(r).tickValues(g).tickFormat(B.d("d")),b=a.ticks(),v=B.a(a).tickValues(b).tickFormat(B.d(".1f"));e.append("g").attr("transform","translate(0,"+h+")").call(v),e.append("g").call(w),null!=s&&e.append("line").style("stroke","gray").style("stroke-width",1).attr("x1",a(s)).attr("y1",0).attr("x2",a(s)).attr("y2",h).style("opacity",.5),null==u||0==i.length&&0==o.length||e.append("line").style("stroke","gray").style("stroke-width",1).attr("x1",0).attr("y1",r(u)).attr("x2",y).attr("y2",r(u)).style("opacity",.5),e.selectAll("circle").data(i).enter().append("circle").attr("fill","red").attr("cx",(function(e){return a(e[c])})).attr("cy",(function(e){return r(e[l])})).attr("r",3).style("opacity",(function(e){return r(e[l])<=r(u)?1:.5})).on("click",(function(e){return d(e)})),e.selectAll("circle").data(o).enter().append("circle").attr("fill","blue").attr("cx",(function(e){return a(e[c])})).attr("cy",(function(e){return r(e[l])})).attr("r",3).style("opacity",(function(e){return r(e[l])<=r(u)?1:.5})).on("click",(function(e){return d(e)}))}),[i,o]);B.e().domain(B.c(m.map((function(e){return e[l]})))).range([0,t]),B.e().domain(B.c(m.map((function(e){return e[c]})))).range([0,n]);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"seed-scatter"}))},ne=function(){O();var e=j((function(e){return e.overview.seedPapers})),n=j((function(e){return e.overview.markedPapers}));console.log({markedPapers:n});var t=Object(r.useRef)(null),i=Object(r.useState)(null),o=Object(f.a)(i,2),c=o[0],l=o[1],s=Object(r.useState)(null),u=Object(f.a)(s,2),d=u[0],m=u[1];return Object(r.useLayoutEffect)((function(){!t.current||c&&d||(l(t.current.getBoundingClientRect().width),m(t.current.getBoundingClientRect().height))})),a.a.createElement("div",{style:{height:"100%",width:"100%"},ref:t},c&&d&&a.a.createElement(ee,{seedPapers:e,markedPapers:n,svgWidth:.9*c,svgHeight:.9*d,onClick:function(){},xLabel:"score",yLabel:"year",xThreshold:null,yThreshold:2017}))},te=function(){return a.a.createElement(k.a,{height:"100%",width:"100%",background:"white"},a.a.createElement(P.a,{pad:"small"},a.a.createElement(x.a,{level:"4"},"Summary")),a.a.createElement(V.a,{pad:"small",gap:"small"},a.a.createElement(x.a,{level:"5"},"Keywords"),a.a.createElement(X,null),a.a.createElement(x.a,{level:"5"},"Seed papers"),a.a.createElement(ne,null)),a.a.createElement(N.a,{pad:{horizontal:"small"},background:"light-1",justify:"end"},a.a.createElement(C.a,{onClick:function(){},icon:a.a.createElement(G.a,{color:"plain"}),hoverIndicator:!0})))},re=function(){var e=j((function(e){return e.overview.paperEntries})),n=O();return e.length||n(v.getData.thunk()),console.log({data:e}),a.a.createElement(c.a,{fill:!0,columns:["2fr","10fr","2fr"]},a.a.createElement(l.a,{fill:!0},a.a.createElement(J,null)),a.a.createElement(l.a,{fill:!0},a.a.createElement(H,null)),a.a.createElement(l.a,{fill:!0},a.a.createElement(te,null)))};var ae=function(){return a.a.createElement("div",{className:"App",style:{height:"100%"}},a.a.createElement(re,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ie=t(20),oe={paperEntries:[],keywords:[],seedPapers:[],markedPapers:[],histories:[],seedPaperSimsCache:{},weights:{keywordSimilarity:{maxVal:1,components:[]},referencedBySeedPapers:{maxVal:1,components:[]},referencesSeedPapers:{maxVal:1,components:[]},seedPaperSimilarity:{maxVal:1,components:[]}}};function ce(e,n,t){var r=e.paperEntries.map((function(r){var a=e.seedPaperSimsCache,i=Object(s.a)({},r);if(n){var o=e.keywords.map((function(e){return e.split(" ").map((function(e){return(r.title+r.abstract).toLowerCase().split(e.toLowerCase()).length-1})).reduce((function(e,n){return e+n}))}));i=Object(s.a)(Object(s.a)({},i),{},{keywordSims:o})}if(t){var c=e.seedPapers.map((function(e){if(e.doi in a||(a[e.doi]={}),!a[e.doi][r.doi]){var n=new Set(Q(r.title+" "+r.abstract)),t=new Set(Q(e.title+" "+e.abstract)),i=new Set([]),o=new Set([]);n.forEach((function(e){return i.add(e)})),t.forEach((function(e){return i.add(e)})),n.forEach((function(e){return t.has(e)&&o.add(e)})),a[e.doi][r.doi]=o.size/i.size}return a[e.doi][r.doi]})),l=e.seedPapers.map((function(e){return i.referencedBy.includes(e.doi)?1:0})),u=e.seedPapers.map((function(e){return i.referencing.includes(e.doi)?1:0}));i=Object(s.a)(Object(s.a)({},i),{},{seedPaperSims:c,referencedBySeedPapers:l,referencesSeedPapers:u})}return i})),a=$(r.map((function(e){return e.keywordSims}))),i=r.filter((function(n){return!e.seedPapers.map((function(e){return e.doi})).includes(n.doi)})),o=$(i.map((function(e){return e.seedPaperSims}))),c=$(i.map((function(e){return e.referencedBySeedPapers}))),l=$(i.map((function(e){return e.referencesSeedPapers}))),u=r.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{keywordSims:e.keywordSims.map((function(e){return e/a})),seedPaperSims:e.seedPaperSims.map((function(e){return e/o})),referencedBySeedPapers:e.referencedBySeedPapers.map((function(e){return e/c})),referencsySeedPapers:e.referencesSeedPapers.map((function(e){return e/l}))})})),d=function(e,n){return e.reduce((function(e,t,r){return e+t*n[r]}),0)};return u.map((function(n){return Object(s.a)(Object(s.a)({},n),{},{score:d(n.keywordSims,e.weights.keywordSimilarity.components.map((function(e){return e.weight/100})))*e.weights.keywordSimilarity.maxVal+d(n.seedPaperSims,e.weights.seedPaperSimilarity.components.map((function(e){return e.weight/100})))*e.weights.seedPaperSimilarity.maxVal+d(n.referencesSeedPapers,e.weights.referencesSeedPapers.components.map((function(e){return e.weight/100})))*e.weights.referencesSeedPapers.maxVal+d(n.referencedBySeedPapers,e.weights.referencedBySeedPapers.components.map((function(e){return e.weight/100})))*e.weights.referencedBySeedPapers.maxVal})})).sort((function(e,n){return e.score===n.score?n.year-e.year:n.score-e.score}))}var le=Object(ie.c)({overview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Object(u.getType)(v.getData.complete):var t=n.payload.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{referencedBy:e.referenced_by,numReferencing:e.referencing.length,numReferenced:e.referenced_by.length,keywordSims:[],seedPaperSims:[],referencedBySeedPapers:[],referencesSeedPapers:[],score:0})})),r=Object(s.a)(Object(s.a)({},e),{},{paperEntries:t});return Object(s.a)(Object(s.a)({},r),{},{paperEntries:ce(r,!1,!1)});case Object(u.getType)(v.setKeywords):var a=n.payload,i=Object(s.a)(Object(s.a)({},e),{},{keywords:a,weights:Object(s.a)(Object(s.a)({},e.weights),{},{keywordSimilarity:{maxVal:1,components:a.map((function(e){return{keyword:e,weight:Math.floor(1/a.length*100)}}))}}),histories:[].concat(Object(S.a)(e.histories),[e])});return Object(s.a)(Object(s.a)({},i),{},{paperEntries:ce(i,!0,!1)});case Object(u.getType)(v.setSeedPapers):var o=n.payload,c=Object(s.a)(Object(s.a)({},e),{},{seedPapers:o,weights:Object(s.a)(Object(s.a)({},e.weights),{},{seedPaperSimilarity:Object(s.a)(Object(s.a)({},e.weights.seedPaperSimilarity),{},{components:o.map((function(e){return{entry:e,weight:Math.floor(1/o.length*100)}}))}),referencedBySeedPapers:Object(s.a)(Object(s.a)({},e.weights.referencedBySeedPapers),{},{components:o.map((function(e){return{entry:e,weight:Math.floor(1/o.length*100)}}))}),referencesSeedPapers:Object(s.a)(Object(s.a)({},e.weights.referencesSeedPapers),{},{components:o.map((function(e){return{entry:e,weight:Math.floor(1/o.length*100)}}))})})});return Object(s.a)(Object(s.a)({},c),{},{paperEntries:ce(c,!1,!0),histories:[].concat(Object(S.a)(e.histories),[e])});case Object(u.getType)(v.setMarkedPapers):var l=n.payload;return Object(s.a)(Object(s.a)({},e),{},{markedPapers:l});case Object(u.getType)(v.setHistories):var d=n.payload;return Object(s.a)(Object(s.a)({},e),{},{histories:d});case Object(u.getType)(v.selectHistory):var m=n.payload;return m;case Object(u.getType)(v.setWeights):var f=n.payload,p=Object(s.a)(Object(s.a)({},e),{},{weights:f,histories:[].concat(Object(S.a)(e.histories),[e])});return Object(s.a)(Object(s.a)({},p),{},{paperEntries:ce(p,!1,!1)});default:return e}}}),se=t(118),ue=t(119),de=Object(ie.d)(le,Object(ie.a)(se.a,Object(ue.createLogger)()));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(E.a,{store:de},a.a.createElement(ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[208,1,2]]]);
//# sourceMappingURL=main.75ba7433.chunk.js.map