(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{217:function(e,n,t){e.exports=t(281)},222:function(e,n,t){},223:function(e,n,t){},281:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(15),o=t.n(i),l=(t(222),t(223),t(309)),c=t(26),s=t(2),u=t(6),d=t(21),f=t.n(d),h=t(10),m=t(50),g=t(117),p=t.n(g);function y(){return(y=Object(m.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("data.json");case 2:return n=e.sent,e.abrupt("return",Object.entries(n.data).map((function(e){var n=Object(h.a)(e,2),t=n[0],r=n[1];return Object(s.a)(Object(s.a)({},r),{},{doi:t})})).filter((function(e){return e.title.length})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w={setKeywords:Object(u.createAction)("OVERVIEW/SET_KEYWORDS",(function(e){return e}))(),setSeedPapers:Object(u.createAction)("OVERVIEW/SET_SEED_PAPERS",(function(e){return e}))(),setMarkedPapers:Object(u.createAction)("OVERVIEW/SET_MARKED_PAPERS",(function(e){return e}))(),setHistories:Object(u.createAction)("OVERVIEW/SET_HISTORIES",(function(e){return e}))(),setWeights:Object(u.createAction)("OVERVIEW/SET_WEIGHTS",(function(e){return e}))(),selectHistory:Object(u.createAction)("OVERVIEW/SELECT_HISTORY",(function(e){return e}))(),setFilter:Object(u.createAction)("OVERVIEW/SET_FILTER",(function(e){return e}))(),setForceAllKeywords:Object(u.createAction)("OVERVIEW/SET_FORCE_ALL_KEYWORDS",(function(e){return e}))()},v={getData:function(e,n,t){var r=Object(u.createAction)(e,(function(e){return e}))(),a=Object(u.createAction)(n,(function(e,n){return e}),(function(e,n){return n}))();return{fetch:r,complete:a,thunk:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(){var e=Object(m.a)(f.a.mark((function e(i){var o,l,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.apply(void 0,n),l=o.request,c=o.response,i(r(l)),e.t0=i,e.t1=a,e.next=6,c();case 6:e.t2=e.sent,e.t3=l,e.t4=(0,e.t1)(e.t2,e.t3),(0,e.t0)(e.t4);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}}("OVERVIEW/GET_DATA/fetch","OVERVIEW/GET_DATA/complete",(function(){return{request:{},response:function(){return function(){return y.apply(this,arguments)}()}}}))},b=Object(s.a)(Object(s.a)({},v),w),E=t(34),O=Object(u.createAction)("SET_HOVERED_ENTRY",(function(e){return e}))(),j=Object(u.createAction)("SET_SELECTED_ENTRY",(function(e){return e}))(),k=function(){return Object(E.b)()};function S(e){return Object(E.c)(e)}var P=t(24),C=(t(109),t(293)),x=t(310),R=t(306),M=t(13),A=t(18),L=t(5),T=new Set("a\nable\nabout\nabove\nabst\naccordance\naccording\naccordingly\nacross\nact\nactually\nadded\nadj\naffected\naffecting\naffects\nafter\nafterwards\nagain\nagainst\nah\nall\nalmost\nalone\nalong\nalready\nalso\nalthough\nalways\nam\namong\namongst\nan\nand\nannounce\nanother\nany\nanybody\nanyhow\nanymore\nanyone\nanything\nanyway\nanyways\nanywhere\napparently\napproximately\nare\naren\narent\narise\naround\nas\naside\nask\nasking\nat\nauth\navailable\naway\nawfully\nb\nback\nbe\nbecame\nbecause\nbecome\nbecomes\nbecoming\nbeen\nbefore\nbeforehand\nbegin\nbeginning\nbeginnings\nbegins\nbehind\nbeing\nbelieve\nbelow\nbeside\nbesides\nbetween\nbeyond\nbiol\nboth\nbrief\nbriefly\nbut\nby\nc\nca\ncame\ncan\ncannot\ncan't\ncause\ncauses\ncertain\ncertainly\nco\ncom\ncome\ncomes\ncontain\ncontaining\ncontains\ncould\ncouldnt\nd\ndate\ndid\ndidn't\ndifferent\ndo\ndoes\ndoesn't\ndoing\ndone\ndon't\ndown\ndownwards\ndue\nduring\ne\neach\ned\nedu\neffect\neg\neight\neighty\neither\nelse\nelsewhere\nend\nending\nenough\nespecially\net\net-al\netc\neven\never\nevery\neverybody\neveryone\neverything\neverywhere\nex\nexcept\nf\nfar\nfew\nff\nfifth\nfirst\nfive\nfix\nfollowed\nfollowing\nfollows\nfor\nformer\nformerly\nforth\nfound\nfour\nfrom\nfurther\nfurthermore\ng\ngave\nget\ngets\ngetting\ngive\ngiven\ngives\ngiving\ngo\ngoes\ngone\ngot\ngotten\nh\nhad\nhappens\nhardly\nhas\nhasn't\nhave\nhaven't\nhaving\nhe\nhed\nhence\nher\nhere\nhereafter\nhereby\nherein\nheres\nhereupon\nhers\nherself\nhes\nhi\nhid\nhim\nhimself\nhis\nhither\nhome\nhow\nhowbeit\nhowever\nhundred\ni\nid\nie\nif\ni'll\nim\nimmediate\nimmediately\nimportance\nimportant\nin\ninc\nindeed\nindex\ninformation\ninstead\ninto\ninvention\ninward\nis\nisn't\nit\nitd\nit'll\nits\nitself\ni've\nj\njust\nk\nkeep\tkeeps\nkept\nkg\nkm\nknow\nknown\nknows\nl\nlargely\nlast\nlately\nlater\nlatter\nlatterly\nleast\nless\nlest\nlet\nlets\nlike\nliked\nlikely\nline\nlittle\n'll\nlook\nlooking\nlooks\nltd\nm\nmade\nmainly\nmake\nmakes\nmany\nmay\nmaybe\nme\nmean\nmeans\nmeantime\nmeanwhile\nmerely\nmg\nmight\nmillion\nmiss\nml\nmore\nmoreover\nmost\nmostly\nmr\nmrs\nmuch\nmug\nmust\nmy\nmyself\nn\nna\nname\nnamely\nnay\nnd\nnear\nnearly\nnecessarily\nnecessary\nneed\nneeds\nneither\nnever\nnevertheless\nnew\nnext\nnine\nninety\nno\nnobody\nnon\nnone\nnonetheless\nnoone\nnor\nnormally\nnos\nnot\nnoted\nnothing\nnow\nnowhere\no\nobtain\nobtained\nobviously\nof\noff\noften\noh\nok\nokay\nold\nomitted\non\nonce\none\nones\nonly\nonto\nor\nord\nother\nothers\notherwise\nought\nour\nours\nourselves\nout\noutside\nover\noverall\nowing\nown\np\npage\npages\npart\nparticular\nparticularly\npast\nper\nperhaps\nplaced\nplease\nplus\npoorly\npossible\npossibly\npotentially\npp\npredominantly\npresent\npreviously\nprimarily\nprobably\npromptly\nproud\nprovides\nput\nq\nque\nquickly\nquite\nqv\nr\nran\nrather\nrd\nre\nreadily\nreally\nrecent\nrecently\nref\nrefs\nregarding\nregardless\nregards\nrelated\nrelatively\nresearch\nrespectively\nresulted\nresulting\nresults\nright\nrun\ns\nsaid\nsame\nsaw\nsay\nsaying\nsays\nsec\nsection\nsee\nseeing\nseem\nseemed\nseeming\nseems\nseen\nself\nselves\nsent\nseven\nseveral\nshall\nshe\nshed\nshe'll\nshes\nshould\nshouldn't\nshow\nshowed\nshown\nshowns\nshows\nsignificant\nsignificantly\nsimilar\nsimilarly\nsince\nsix\nslightly\nso\nsome\nsomebody\nsomehow\nsomeone\nsomethan\nsomething\nsometime\nsometimes\nsomewhat\nsomewhere\nsoon\nsorry\nspecifically\nspecified\nspecify\nspecifying\nstill\nstop\nstrongly\nsub\nsubstantially\nsuccessfully\nsuch\nsufficiently\nsuggest\nsup\nsure\tt\ntake\ntaken\ntaking\ntell\ntends\nth\nthan\nthank\nthanks\nthanx\nthat\nthat'll\nthats\nthat've\nthe\ntheir\ntheirs\nthem\nthemselves\nthen\nthence\nthere\nthereafter\nthereby\nthered\ntherefore\ntherein\nthere'll\nthereof\ntherere\ntheres\nthereto\nthereupon\nthere've\nthese\nthey\ntheyd\nthey'll\ntheyre\nthey've\nthink\nthis\nthose\nthou\nthough\nthoughh\nthousand\nthroug\nthrough\nthroughout\nthru\nthus\ntil\ntip\nto\ntogether\ntoo\ntook\ntoward\ntowards\ntried\ntries\ntruly\ntry\ntrying\nts\ntwice\ntwo\nu\nun\nunder\nunfortunately\nunless\nunlike\nunlikely\nuntil\nunto\nup\nupon\nups\nus\nuse\nused\nuseful\nusefully\nusefulness\nuses\nusing\nusually\nv\nvalue\nvarious\n've\nvery\nvia\nviz\nvol\nvols\nvs\nw\nwant\nwants\nwas\nwasnt\nway\nwe\nwed\nwelcome\nwe'll\nwent\nwere\nwerent\nwe've\nwhat\nwhatever\nwhat'll\nwhats\nwhen\nwhence\nwhenever\nwhere\nwhereafter\nwhereas\nwhereby\nwherein\nwheres\nwhereupon\nwherever\nwhether\nwhich\nwhile\nwhim\nwhither\nwho\nwhod\nwhoever\nwhole\nwho'll\nwhom\nwhomever\nwhos\nwhose\nwhy\nwidely\nwilling\nwish\nwith\nwithin\nwithout\nwont\nwords\nworld\nwould\nwouldnt\nwww\nx\ny\nyes\nyet\nyou\nyoud\nyou'll\nyour\nyoure\nyours\nyourself\nyourselves\nyou've\nz\nzero".split("\n"));function I(e){return e.reduce((function(e,n){return Math.max(e,n.reduce((function(e,n){return e+n}),0))}),0)}function D(e){return e.split(" ").map((function(e){return e.toLowerCase().replace(/[^a-zA-Z\-]/g,"")})).filter((function(e){return e.length>=2&&!T.has(e.toLowerCase())}))}var W={originalPaperEntries:[],paperEntries:[],paperEntriesToShow:[],keywords:[],seedPapers:[],markedPapers:[],histories:[],seedPaperSimsCache:{},weights:{recentlyPublished:{weight:.5},citation:{weight:.5},keywordSimilarity:{weight:1},referencedBySeedPapers:{weight:1},referencesSeedPapers:{weight:1},seedPaperSimilarity:{weight:1},mode:null},filter:null,forceAllKeywords:!1};function K(e,n,t){var r=e.paperEntries;e.filter&&(r=e.originalPaperEntries.filter((function(n){return e.filter.year.from<=n.year&&n.year<=e.filter.year.to})),e.filter.authors.length&&(r=r.filter((function(n){var t,r=Object(A.a)(e.filter.authors);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(n.author.includes(a))return!0}}catch(i){r.e(i)}finally{r.f()}return!1}))),n=!0,t=!0);var a,i=r.map((function(r){var a=e.seedPaperSimsCache,i=Object(s.a)({},r);if(n){var o=e.keywords.map((function(e){return Math.min(5,e.split("zxcvzxxc").map((function(e){return(r.title+" "+r.abstract).toLowerCase().split(e.toLowerCase()).length-1})).reduce((function(e,n){return e+n})))/5}));i=Object(s.a)(Object(s.a)({},i),{},{keywordSims:o})}if(t){var l=e.seedPapers.map((function(e){if(e.doi in a||(a[e.doi]={}),!a[e.doi][r.doi]){var n=new Set(D(r.title+" "+r.abstract)),t=new Set(D(e.title+" "+e.abstract)),i=new Set([]),o=new Set([]);n.forEach((function(e){return i.add(e)})),t.forEach((function(e){return i.add(e)})),n.forEach((function(e){return t.has(e)&&o.add(e)})),a[e.doi][r.doi]=o.size/i.size}return a[e.doi][r.doi]})),c=e.seedPapers.map((function(e){return i.referencedBy.includes(e.doi)?1:0})),u=e.seedPapers.map((function(e){return i.referencing.includes(e.doi)?1:0}));i=Object(s.a)(Object(s.a)({},i),{},{seedPaperSims:l,referencedBySeedPapers:c,referencesSeedPapers:u})}return i})),o=i.map((function(e){return e.recentlyPublished})).reduce((function(e,n){return Math.max(e,n)}),0),l=i.map((function(e){return e.numReferenced})).reduce((function(e,n){return Math.max(e,n)}),0),c=I(i.map((function(e){return e.keywordSims}))),u=i.filter((function(n){return!e.seedPapers.map((function(e){return e.doi})).includes(n.doi)})),d=I(u.map((function(e){return e.seedPaperSims})))||1,f=I(u.map((function(e){return e.referencedBySeedPapers})))||1,h=I(u.map((function(e){return e.referencesSeedPapers})))||1,m=i.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{recentlyPublished:e.recentlyPublished/o,citation:e.numReferenced/l,keywordSims:e.keywordSims.map((function(e){return e/c})),seedPaperSims:e.seedPaperSims.map((function(e){return e/d})),referencedBySeedPapers:e.referencedBySeedPapers.map((function(e){return e/f})),referencesSeedPapers:e.referencesSeedPapers.map((function(e){return e/h}))})})),g=e.weights,p=m.map((function(n){return Object(s.a)(Object(s.a)({},n),{},{score:function(){var t=n.recentlyPublished*e.weights.recentlyPublished.weight,r=n.keywordSims.reduce((function(e,n){return e+n}),0)*e.weights.keywordSimilarity.weight,a=n.seedPaperSims.reduce((function(e,n){return e+n}),0)*e.weights.seedPaperSimilarity.weight,i=n.citation*e.weights.citation.weight,o=n.referencesSeedPapers.reduce((function(e,n){return e+n}),0)*e.weights.referencesSeedPapers.weight,l=n.referencedBySeedPapers.reduce((function(e,n){return e+n}),0)*e.weights.referencedBySeedPapers.weight;if(g.mode){if("keyword"===g.mode)return L.j([10*t,1e5*r,1e4*a,1*i,100*o,1e3*l]);if("seed"===g.mode)return L.j([10*t,1e4*r,1e5*a,1*i,100*o,1e3*l]);if("referenced-by-seed"===g.mode)return L.j([10*t,100*r,1e3*a,1*i,1e4*o,1e5*l]);if("references-seed"===g.mode)return L.j([10*t,100*r,1e3*a,1*i,1e5*o,1e4*l]);if("year"===g.mode){var c=L.j([1*r,1*a,1*o,1*l]);return c>0?100*t+c:0}if("year-ascending"===g.mode){var s=L.j([1*r,1*a,1*o,1*l]);return s>0?100*(1-t)+s:0}if("citation"===g.mode){var u=L.j([1*r,1*a,1*o,1*l]);return u>0?100*i+u:0}return 0}return L.j([t,r,a,i,o,l])}()})}));return{paperEntries:a=0===e.keywords.length&&0===e.seedPapers.length?p:p.sort((function(e,n){return e.score===n.score?n.year-e.year:n.score-e.score})),paperEntriesToShow:a.filter((function(n){return!e.seedPapers.map((function(e){return e.doi})).includes(n.doi)&&(!e.forceAllKeywords||n.keywordSims.reduce((function(e,n){return e*n}),1)>0)})).slice(0,30)}}var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Object(u.getType)(b.getData.complete):var t=n.payload.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{recentlyPublished:e.year-1980,referencedBy:e.referenced_by,numReferencing:e.referencing.length,numReferenced:e.referenced_by.length,keywordSims:[],seedPaperSims:[],referencedBySeedPapers:[],referencesSeedPapers:[],score:0})})),r=Object(s.a)(Object(s.a)({},e),{},{originalPaperEntries:t,paperEntries:t});return Object(s.a)(Object(s.a)({},r),K(r,!1,!1));case Object(u.getType)(b.setKeywords):var a=n.payload,i=Object(s.a)(Object(s.a)({},e),{},{keywords:a,weights:Object(s.a)(Object(s.a)({},e.weights),{},{keywordSimilarity:{weight:1}}),histories:[].concat(Object(M.a)(e.histories),[e])});return Object(s.a)(Object(s.a)({},i),K(i,!0,!1));case Object(u.getType)(b.setSeedPapers):var o=n.payload,l=Object(s.a)(Object(s.a)({},e),{},{seedPapers:o,weights:Object(s.a)(Object(s.a)({},e.weights),{},{seedPaperSimilarity:Object(s.a)({},e.weights.seedPaperSimilarity),referencedBySeedPapers:Object(s.a)({},e.weights.referencedBySeedPapers),referencesSeedPapers:Object(s.a)({},e.weights.referencesSeedPapers)})});return Object(s.a)(Object(s.a)(Object(s.a)({},l),K(l,!1,!0)),{},{histories:[].concat(Object(M.a)(e.histories),[e])});case Object(u.getType)(b.setMarkedPapers):var c=n.payload;return Object(s.a)(Object(s.a)({},e),{},{markedPapers:c});case Object(u.getType)(b.setHistories):var d=n.payload;return Object(s.a)(Object(s.a)({},e),{},{histories:d});case Object(u.getType)(b.selectHistory):var f=n.payload;return f;case Object(u.getType)(b.setWeights):var h=n.payload,m=Object(s.a)(Object(s.a)({},e),{},{weights:h,histories:[].concat(Object(M.a)(e.histories),[e])});return Object(s.a)(Object(s.a)({},m),K(m,!1,!1));case Object(u.getType)(b.setFilter):var g=n.payload,p=Object(s.a)(Object(s.a)({},e),{},{filter:g,histories:[].concat(Object(M.a)(e.histories),[e])});return Object(s.a)(Object(s.a)({},p),K(p,!1,!1));case Object(u.getType)(b.setForceAllKeywords):var y=Object(s.a)(Object(s.a)({},e),{},{forceAllKeywords:n.payload,histories:[].concat(Object(M.a)(e.histories),[e])});return Object(s.a)(Object(s.a)({},y),K(y,!1,!1));default:return e}},B=t(66),z=t.n(B),H=t(119),V=t.n(H);z.a.use(V.a);var N=function(e){var n=e.seedPapers,t=e.selectedEntry,i=e.cohesivenesses,o=Object(r.useRef)(null),l=Object(r.useState)(null),c=Object(h.a)(l,2),s=c[0],u=c[1];return Object(r.useLayoutEffect)((function(){if(o.current){var e=Object(M.a)(n);t&&e.push(t),u(z()({container:o.current,elements:[].concat(Object(M.a)(e.map((function(e,r){return{data:{id:"NODE_".concat(e.doi),entry:e},style:{width:15,height:15,label:e.title.includes(":")?e.title.split(":")[0].split(" ").slice(0,3).join(" "):e.title.split(" ").slice(0,2).join(" "),"font-size":"0.5em","background-color":e.doi!==(null===t||void 0===t?void 0:t.doi)||n.map((function(e){return e.doi})).includes(t.doi)?void 0===i[n.indexOf(e)]?L.c(.5):L.b(.3+.7*i[n.indexOf(e)]):L.d[4][1]}}}))),Object(M.a)(e.map((function(e){return e.referencing.map((function(n){return{toDoi:n,fromDoi:e.doi}}))})).reduce((function(e,n){return e.concat(n)}),[]).filter((function(n){var t=n.fromDoi,r=n.toDoi;return e.map((function(e){return e.doi})).includes(r)&&t!==r})).map((function(e){var n=e.fromDoi,t=e.toDoi;return{data:{id:"EDGE_".concat(n,"_").concat(t),source:"NODE_".concat(n),target:"NODE_".concat(t),distance:1}}})))),style:[{selector:"node",style:{"background-color":"#666"}},{selector:"edge",style:{"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}],layout:{name:"cose",idealEdgeLength:function(e){return e._private.data.distance},animate:!1},userZoomingEnabled:!1}))}}),[o,n,t,i]),Object(r.useLayoutEffect)((function(){s&&(s.nodes().unbind("click"),s.nodes().bind("click",(function(e){})))}),[s]),a.a.createElement("div",{style:{height:"100%",width:"100%"},ref:o})},F=function(){var e=S((function(e){return e.overview.seedPapers})),n=S((function(e){return e.overview.keywords})),t=S((function(e){return e.overview.weights})),i=S((function(e){return e.ui.selectedEntry})),o=S((function(e){return e.overview})),s=Object(r.useState)(!1),u=Object(h.a)(s,2),d=u[0],f=u[1],m=Object(r.useState)(-1),g=Object(h.a)(m,2),p=(g[0],g[1]),y=Object(r.useState)([]),w=Object(h.a)(y,2),v=w[0],E=w[1];return Object(r.useEffect)((function(){if(d){f(!1);var n=e.map((function(n,t){p(t/e.length);var r=_(o,b.setSeedPapers(e.filter((function(e){return e.doi!==n.doi})))),a=r.paperEntriesToShow.map((function(e){return e.doi})).indexOf(n.doi);return console.log({entry:n,withoutThis:r,index:a}),(30-(a>=0?a:30))/30}));p(-1),E(n)}}),[e,n,t,d]),a.a.createElement(C.a,null,a.a.createElement(c.a,{fill:!0,height:{min:"0px"}},a.a.createElement(l.a,{fill:!0,pad:"small",rows:["auto","1fr"]},a.a.createElement(c.a,{direction:"row",align:"baseline",gap:"small"},a.a.createElement(x.a,{level:"5"},"Citation Relationship"),a.a.createElement(P.a,{trigger:a.a.createElement(R.a,{size:"small",color:"blue",onClick:function(){f(!0)}},"Update Cohesiveness"),on:["hover"]},"High cohesiveness indicates that, the paper should be still ranked high when it is excluded from the seed paper set. This operation might be slow when there are many seed papers. The higher the cohesiveness, the darker the color of the node.")),a.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"}},a.a.createElement(N,{seedPapers:e,selectedEntry:i,cohesivenesses:v})))))},Y=t(294),q=t(295),G=t(296),J=t(297),Z=t(135),U=function(e){var n=e.description,t=e.tagColors,r=n,i=Object.keys(t);i.forEach((function(e){r=r.replace(new RegExp(e,"g"),"".concat("<DELIM0>").concat("<DELIM1>").concat(e).concat("<DELIM0>"))}));var o=r.split("<DELIM0>").filter((function(e){return e.length}));return a.a.createElement(Z.a,{as:"p",wordBreak:"break-all"},o.map((function(e,n){var r;return e.startsWith("<DELIM1>")?a.a.createElement(Z.a,{key:n,as:"span",style:{backgroundColor:null===(r=L.a(t[e.slice("<DELIM1>".length)]))||void 0===r?void 0:r.brighter().brighter()}},e.slice("<DELIM1>".length)):a.a.createElement(Z.a,{key:n,as:"span"},e)})))},$=function(){var e=S((function(e){return e.ui.selectedEntry})),n=S((function(e){return e.overview.keywords})),t=S((function(e){return e.overview.seedPapers})),r=k(),i={};return n.forEach((function(e,n){return i[e]=L.h[Math.min(n,9)]})),e?a.a.createElement(C.a,null,a.a.createElement(c.a,{fill:!0,height:{min:"0px"}},a.a.createElement(l.a,{fill:!0,pad:"small",rows:["auto","1fr","auto"]},a.a.createElement(x.a,{level:"5"},"Paper Detail"),a.a.createElement(c.a,{fill:!0,overflow:{vertical:"scroll"},className:"styled-scroll"},a.a.createElement(Y.a,null,a.a.createElement(q.a,null,a.a.createElement(G.a,null,a.a.createElement(J.a,{scope:"row"},"Title"),a.a.createElement(J.a,null,a.a.createElement(Z.a,null,e.title))),a.a.createElement(G.a,null,a.a.createElement(J.a,{scope:"row"},"Authors"),a.a.createElement(J.a,null,a.a.createElement(Z.a,null,e.author.join("; ")))),a.a.createElement(G.a,null,a.a.createElement(J.a,{scope:"row"},"Year"),a.a.createElement(J.a,null,a.a.createElement(Z.a,null,e.year))),a.a.createElement(G.a,null,a.a.createElement(J.a,{scope:"row"},"Abstract"),a.a.createElement(J.a,null,a.a.createElement(U,{description:e.abstract,tagColors:i}))),a.a.createElement(G.a,null,a.a.createElement(J.a,{scope:"row"},"Keywords"),a.a.createElement(J.a,null,a.a.createElement(Z.a,null,e.keywords.join("; "))))))),a.a.createElement(c.a,null,a.a.createElement(R.a,{onClick:function(){t.includes(e)||r(b.setSeedPapers([].concat(Object(M.a)(t),[e])))},secondary:!0,label:"Add to seed papers"}))))):a.a.createElement(C.a,null)},Q=t(311),X=t(307),ee=t(301),ne=t(312),te=t(298),re=t(299);function ae(){return(ae=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function ie(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var oe=a.a.createElement("g",null,a.a.createElement("path",{d:"M63.928,14.536C55.865,0.649,38.168-4.055,24.281,3.784C10.392,11.849,5.688,29.546,13.529,43.432 c8.064,13.889,25.76,18.592,39.646,10.527C67.065,46.344,71.993,28.425,63.928,14.536z M17.785,41.193 c-6.72-11.646-2.688-26.432,8.96-33.15c11.648-6.722,26.434-2.688,33.152,8.96c6.72,11.646,2.688,26.431-8.961,33.149 C39.288,56.873,24.505,52.841,17.785,41.193z M70.281,69.15l-12.413,7.172L48.23,59.641l12.413-7.172L70.281,69.15z M68.855,81.289 C65.496,83.303,61.016,81.96,59,78.6l12.544-7.168C73.561,75.016,72.217,79.271,68.855,81.289z M46.904,23.048h5.602l-5.602,18.144 h-5.376l-1.792-6.271c-0.448-1.792-0.672-3.361-1.12-5.603c-0.224,2.241-0.672,3.811-1.12,5.603l-1.792,6.271h-5.376l-5.15-18.144 H31l1.346,7.392c0.446,2.019,0.896,4.032,1.12,6.048c0.224-2.016,0.896-4.256,1.118-6.048l2.018-7.392h4.479l1.792,7.392 c0.449,2.019,0.896,4.032,1.348,6.048c0.444-2.237,0.672-4.255,1.116-6.271L46.904,23.048z"})),le=a.a.createElement("g",null),ce=a.a.createElement("g",null),se=a.a.createElement("g",null),ue=a.a.createElement("g",null),de=a.a.createElement("g",null),fe=a.a.createElement("g",null),he=a.a.createElement("g",null),me=a.a.createElement("g",null),ge=a.a.createElement("g",null),pe=a.a.createElement("g",null),ye=a.a.createElement("g",null),we=a.a.createElement("g",null),ve=a.a.createElement("g",null),be=a.a.createElement("g",null),Ee=a.a.createElement("g",null),Oe=function(e){var n=e.svgRef,t=e.title,r=ie(e,["svgRef","title"]);return a.a.createElement("svg",ae({id:"Capa_1",x:"0px",y:"0px",width:"82.235px",height:"82.235px",viewBox:"0 0 82.235 82.235",style:{enableBackground:"new 0 0 82.235 82.235"},xmlSpace:"preserve",ref:n},r),t?a.a.createElement("title",null,t):null,oe,le,ce,se,ue,de,fe,he,me,ge,pe,ye,we,ve,be,Ee)},je=a.a.forwardRef((function(e,n){return a.a.createElement(Oe,ae({svgRef:n},e))}));t.p;var ke=function(e){var n=e.histories,t=e.historiesDiff,i=e.offsetHeight,o=e.cellHeight,l=e.svgWidth,c=e.numHistories,s=e.hoveredEntry,u=(e.setHoveredEntry,e.onSelectHistory,30*o),d=Object(r.useState)(0),f=Object(h.a)(d,2),m=f[0],g=f[1],p=Object(r.useRef)(null);return Object(r.useEffect)((function(){L.i(p.current).select(".root-svg").select(".history-content")}),[]),Object(r.useEffect)((function(){if(n.length!==m){console.log(n),console.log(c);var e=L.i(p.current).select(".root-svg").select(".history-content");if(g(n.length),1===n.length){var t=n[n.length-1].slice(0,50).slice(0,10).map((function(e){return e.doi}));e.append("g").classed("hg0",!0).selectAll(".node").data([]).join("circle").classed("node",!0).attr("cx",l).attr("cy",(function(e,n){return(n+.5)*o})).attr("r",3).attr("opacity",(function(e){return t.includes(e.doi)?.7:.1}))}else if(n.length>1){for(var r=[],a=n[n.length-1].slice(0,50),i=a.slice(0,10).map((function(e){return e.doi})),s=n[n.length-2].slice(0,50),u=c-1;u>=0;u--)console.log("hg"+u),e.selectAll(".hg"+u).classed("hg"+u,!1).classed("hg"+(u+1),!0);e.transition().duration(1e3).selectAll(".parallel").attr("stroke",(function(e){return i.includes(e.doi)?L.g[3]:L.g[8]})).attr("opacity",(function(e){return i.includes(e.doi)?.7:.1})),e.transition().duration(1e3).selectAll(".node").attr("opacity",(function(e){return i.includes(e.doi)?.7:.1})),a.forEach((function(e,n){var t=s.findIndex((function(n){return n.doi===e.doi}));r.push({fromIndex:t,toIndex:n,doi:e.doi})}));var d=e.append("g").classed("hg0",!0);d.selectAll(".parallel").data(r).join("line").classed("history",!0).classed("parallel",!0).attr("x1",(function(e){return e.fromIndex>=0?l:1.19*l})).attr("y1",(function(e){return e.fromIndex>=0?(e.fromIndex+.5)*o:(e.toIndex+.5)*o})).attr("x2",l+l/5).attr("y2",(function(e){return(e.toIndex+.5)*o})).attr("stroke",(function(e){return i.includes(e.doi)?L.g[3]:L.g[8]})).attr("stroke-width",3).attr("stroke-linecap","round").attr("opacity",(function(e){return i.includes(e.doi)?.7:.1})),d.selectAll(".node").data(r).join("circle").classed("node",!0).attr("cx",l+l/5).attr("cy",(function(e,n){return(n+.5)*o})).attr("r",3).attr("opacity",(function(e){return i.includes(e.doi)?.7:.1}));for(var f=0;f<=c;f++)e.selectAll(".hg"+f).transition().duration(1e3).attr("transform",(h=0,"translate(".concat(-l/5*(f+1),", ").concat(h,")")));e.selectAll(".hg5").remove()}}var h}),[n]),Object(r.useEffect)((function(){var e=n[n.length-1].slice(0,10).map((function(e){return e.doi})),t=L.i(p.current).select(".root-svg").select(".history-content");t.selectAll(".hovered").classed("hovered",!1).classed("unhovered",!0).attr("stroke-width",3).attr("opacity",(function(n){return e.includes(n.doi)?.7:.1})),null!==s&&t.selectAll(".parallel").filter((function(e){return e.doi==s.doi})).classed("hovered",!0).attr("stroke-width",o).attr("opacity",.9)}),[s]),a.a.createElement("div",{ref:p,style:{width:l}},a.a.createElement("div",{className:"history-header",style:{width:l,height:i,display:"flex",justifyContent:"flex-end"}},Object(M.a)(t.slice(-c)).map((function(e,n,r){var o,s,u,d;t.indexOf(r[0]);return a.a.createElement("div",{style:{width:l/c,height:i,display:"flex",justifyContent:"center",alignItems:"center"}},"+K"===e.type?a.a.createElement(P.a,{trigger:a.a.createElement(je,{style:{fill:"green",width:24,height:24}}),on:["hover"]},"Added a keyword: ",(null===(o=e.keywords)||void 0===o?void 0:o.join(", "))||"",a.a.createElement("br",null)):"-K"===e.type?a.a.createElement(P.a,{trigger:a.a.createElement(je,{style:{fill:"red",width:24,height:24}}),on:["hover"]},"Deleted a keyword: ",(null===(s=e.keywords)||void 0===s?void 0:s.join(", "))||"",a.a.createElement("br",null)):"+S"===e.type?a.a.createElement(P.a,{trigger:a.a.createElement("div",null,a.a.createElement(te.a,{color:"green"})),on:["hover"]},"Added a paper: ",(null===(u=e.papers)||void 0===u?void 0:u.map((function(e){return e.title})).join(", "))||"",a.a.createElement("br",null)):"-S"===e.type?a.a.createElement(P.a,{trigger:a.a.createElement("div",null,a.a.createElement(te.a,{color:"red"})),on:["hover"]},"Deleted a paper: ",(null===(d=e.papers)||void 0===d?void 0:d.map((function(e){return e.title})).join(", "))||"",a.a.createElement("br",null)):"CW"===e.type?a.a.createElement(P.a,{trigger:a.a.createElement("div",null,a.a.createElement(re.a,{color:"brown"})),on:["hover"]},"Changed weight or filter",a.a.createElement("br",null)):a.a.createElement("div",null))}))),a.a.createElement("svg",{className:"root-svg",height:u,width:l},a.a.createElement("g",{className:"history-content",height:u,width:l})))},Se=function(e){var n=e.similarities,t=e.maxOfSum,i=e.color;n=n.map((function(e){return Math.abs(e)}));var o=Object(r.useRef)(null),l=Object(r.useState)(null),c=Object(h.a)(l,2),s=c[0],u=c[1],d=Object(r.useState)(null),f=Object(h.a)(d,2),m=f[0],g=f[1];return Object(r.useLayoutEffect)((function(){!o.current||s&&m||(u(o.current.getBoundingClientRect().width),g(o.current.getBoundingClientRect().height))})),a.a.createElement("div",{style:{display:"flex",justifyContent:"start",width:"100%",height:"100%"},ref:o},s&&m&&n.map((function(e,n){return a.a.createElement("div",{style:{marginTop:.25*m,height:.5*m,width:e/t*s*.8,backgroundColor:i[Math.min(i.length-1,n)]}})})))},Pe=function(e){var n=e.entry,t=e.onMouseOver,i=e.onMouseOut,o=e.onClick,l=e.style,c=Object(r.useState)(!1),u=Object(h.a)(c,2),d=u[0],f=u[1];return a.a.createElement("div",{onMouseOver:t,onMouseOut:i,onClick:function(){o()},style:Object(s.a)(Object(s.a)({},l),{},{textOverflow:"ellipsis",overflow:"hidden"})},a.a.createElement("strong",{style:{whiteSpace:"nowrap"}},n.title),d&&a.a.createElement(X.a,{onEsc:function(){return f(!1)},onClickOutside:function(){return f(!1)}},a.a.createElement(Y.a,null,a.a.createElement(q.a,null,a.a.createElement(G.a,null,a.a.createElement(J.a,{scope:"row"},"Title"),a.a.createElement(J.a,null,n.title)),a.a.createElement(G.a,null,a.a.createElement(J.a,{scope:"row"},"Year"),a.a.createElement(J.a,null,n.year)),a.a.createElement(G.a,null,a.a.createElement(J.a,{scope:"row"},"Abstract"),a.a.createElement(J.a,null,n.abstract))))))},Ce=function(e){var n=e.onClose,t=Object(r.useState)(S((function(e){return e.overview.filter||{year:{from:1980,to:2020},authors:[]}}))),i=Object(h.a)(t,2),o=i[0],u=i[1],d=k();return a.a.createElement(c.a,{direction:"column",pad:"medium"},a.a.createElement(l.a,{columns:["1fr","1fr"],gap:"small"},a.a.createElement("div",null,"Year From"),a.a.createElement("input",{type:"number",value:o.year.from,onChange:function(e){return u(Object(s.a)(Object(s.a)({},o),{},{year:Object(s.a)(Object(s.a)({},o.year),{},{from:+e.target.value})}))}}),a.a.createElement("div",null,"Year To"),a.a.createElement("input",{type:"number",value:o.year.to,onChange:function(e){return u(Object(s.a)(Object(s.a)({},o),{},{year:Object(s.a)(Object(s.a)({},o.year),{},{to:+e.target.value})}))}})),a.a.createElement(c.a,{fill:!0,justify:"center",margin:{top:"small"}},a.a.createElement(R.a,{primary:!0,color:"dark-2",label:"Apply",onClick:function(){d(b.setFilter(o)),n()}})))},xe=function(){var e=S((function(e){return[].concat(Object(M.a)(e.overview.histories),[e.overview])})),n=e.map((function(n,t){if(0===t)return{type:"undefined"};var r=e[t-1];return n.keywords.length>r.keywords.length?{type:"+K",keywords:n.keywords.filter((function(e){return!r.keywords.includes(e)}))}:n.keywords.length<r.keywords.length?{type:"-K",keywords:r.keywords.filter((function(e){return!n.keywords.includes(e)}))}:n.seedPapers.length>r.seedPapers.length?{type:"+S",papers:n.seedPapers.filter((function(e){return!r.seedPapers.map((function(e){return e.doi})).includes(e.doi)}))}:n.seedPapers.length<r.seedPapers.length?{type:"-S",papers:r.seedPapers.filter((function(e){return!n.seedPapers.map((function(e){return e.doi})).includes(e.doi)}))}:{type:"CW"}})).slice(1),t=(S((function(e){return e.overview.seedPapers})),S((function(e){return e.overview.keywords})),S((function(e){return e.overview.forceAllKeywords})),S((function(e){return e.overview.paperEntriesToShow}))),i=(S((function(e){return e.overview.markedPapers})),S((function(e){return e.overview.weights}))),o={};Object.entries(i).forEach((function(e){var n=Object(h.a)(e,2),t=n[0],r=n[1];o[t]=Object(s.a)(Object(s.a)({},r),{},{maxVal:0})}));var u="".concat(i.recentlyPublished.weight,":").concat(i.citation.weight,":").concat(i.keywordSimilarity.weight,":").concat(i.seedPaperSimilarity.weight,":").concat(i.referencedBySeedPapers.weight,":").concat(i.referencesSeedPapers.weight),d=S((function(e){return e.ui.hoveredEntry})),f=function(e){(null===d||void 0===d?void 0:d.doi)!==(null===e||void 0===e?void 0:e.doi)&&p(O(e))},m=S((function(e){return e.ui.selectedEntry})),g=function(e){(null===m||void 0===m?void 0:m.doi)!==e.doi&&p(j(e))},p=k(),y=Object(r.useState)(!1),w=Object(h.a)(y,2),v=(w[0],w[1],Object(r.useState)(!1)),E=Object(h.a)(v,2),P=E[0],A=E[1];return a.a.createElement(C.a,{fill:!0,background:"white",overflow:{vertical:"scroll"},className:"styled-scroll"},a.a.createElement(Q.a,{pad:"small"},a.a.createElement(c.a,{direction:"row",gap:"small",align:"baseline"},a.a.createElement(x.a,{level:"4"},"Papers"),a.a.createElement(R.a,{color:"blue",onClick:function(){A(!0)}},"Filter"),P&&a.a.createElement(X.a,{onEsc:function(){return A(!1)},onClickOutside:function(){return A(!1)}},a.a.createElement(Ce,{onClose:function(){return A(!1)}})))),a.a.createElement(ee.a,{pad:"small",gap:"small"},e.length>1?a.a.createElement(l.a,{columns:["auto","1fr"],fill:!0},a.a.createElement(ke,{histories:e.map((function(e){return e.paperEntriesToShow})),historiesDiff:n,onSelectHistory:function(n){p(b.selectHistory(e[n]))},offsetHeight:50,cellHeight:20,svgWidth:175,numHistories:5,hoveredEntry:d,setHoveredEntry:f}),a.a.createElement("div",{style:{height:"100%"}},a.a.createElement(l.a,{fill:!0,rows:["50px"].concat(Object(M.a)(t.map((function(e){return"20px"})))),columns:["auto","4fr","auto","".concat(Math.abs(i.recentlyPublished.weight),"fr"),"".concat(Math.abs(i.citation.weight),"fr"),"".concat(Math.abs(i.keywordSimilarity.weight),"fr"),"".concat(Math.abs(i.seedPaperSimilarity.weight),"fr"),"".concat(Math.abs(i.referencedBySeedPapers.weight),"fr"),"".concat(Math.abs(i.referencesSeedPapers.weight),"fr")]},a.a.createElement("div",null,"Rank"),a.a.createElement("div",{style:{paddingLeft:5,paddingRight:5}},"Title"),a.a.createElement("div",{style:{paddingLeft:5,paddingRight:5}},"Conference"),a.a.createElement("div",{style:{paddingLeft:5,paddingRight:5,backgroundColor:"year"===i.mode?"rgba(0, 255, 0, 0.1)":"year-ascending"===i.mode?"rgba(255, 0, 0, 0.1)":"white"},onClick:function(){p(b.setWeights(Object(s.a)(Object(s.a)({},i),{},{mode:"year"===i.mode?"year-ascending":"year-ascending"===i.mode?null:"year"})))}},"Year"),a.a.createElement("div",{style:{paddingLeft:5,paddingRight:5,backgroundColor:"citation"===i.mode?"rgba(0, 255, 0, 0.1)":"white"},onClick:function(){p(b.setWeights(Object(s.a)(Object(s.a)({},i),{},{mode:"citation"===i.mode?null:"citation"})))}},"Cited By"),a.a.createElement("div",{style:{paddingLeft:5,paddingRight:5,backgroundColor:"keyword"===i.mode?"rgba(0, 255, 0, 0.1)":"white"},onClick:function(){p(b.setWeights(Object(s.a)(Object(s.a)({},i),{},{mode:"keyword"===i.mode?null:"keyword"})))}},"Keyword Similarity"),a.a.createElement("div",{style:{paddingLeft:5,paddingRight:5,backgroundColor:"seed"===i.mode?"rgba(0, 255, 0, 0.1)":"white"},onClick:function(){p(b.setWeights(Object(s.a)(Object(s.a)({},i),{},{mode:"seed"===i.mode?null:"seed"})))}},"Seed Paper Similarity"),a.a.createElement("div",{style:{paddingLeft:5,paddingRight:5,backgroundColor:"referenced-by-seed"===i.mode?"rgba(0, 255, 0, 0.1)":"white"},onClick:function(){p(b.setWeights(Object(s.a)(Object(s.a)({},i),{},{mode:"referenced-by-seed"===i.mode?null:"referenced-by-seed"})))}},"Cited by Seed Papers"),a.a.createElement("div",{style:{paddingLeft:5,paddingRight:5,backgroundColor:"references-seed"===i.mode?"rgba(0, 255, 0, 0.1)":"white"},onClick:function(){p(b.setWeights(Object(s.a)(Object(s.a)({},i),{},{mode:"references-seed"===i.mode?null:"references-seed"})))}},"References Seed Papers"),t&&t.map((function(e,n){return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{onMouseOver:function(){return f(e)},onMouseOut:function(){return f(null)},onClick:function(){return g(e)},style:{paddingLeft:5,paddingRight:5,textAlign:"center",backgroundColor:(null===d||void 0===d?void 0:d.doi)===e.doi?"rgba(0,0,255,0.1)":"white"}},n+1),a.a.createElement(Pe,{onMouseOver:function(){return f(e)},onMouseOut:function(){return f(null)},onClick:function(){return g(e)},style:{backgroundColor:(null===d||void 0===d?void 0:d.doi)===e.doi?"rgba(0,0,255,0.1)":"white"},entry:e}),a.a.createElement("div",{onMouseOver:function(){return f(e)},onMouseOut:function(){return f(null)},onClick:function(){return g(e)},style:{paddingLeft:5,paddingRight:5,textAlign:"center",backgroundColor:(null===d||void 0===d?void 0:d.doi)===e.doi?"rgba(0,0,255,0.1)":"white"}},e.conference),a.a.createElement("div",{onMouseOver:function(){return f(e)},onMouseOut:function(){return f(null)},onClick:function(){return g(e)},style:{paddingLeft:5,paddingRight:5,backgroundColor:(null===d||void 0===d?void 0:d.doi)===e.doi?"rgba(0,0,255,0.1)":"white"}},a.a.createElement(ne.a,{fill:!0,anchor:"left"},a.a.createElement(Se,{key:u,similarities:[e.recentlyPublished],maxOfSum:1,color:[L.f[9][1]]}),a.a.createElement(Z.a,{size:"xsmall"},e.year))),a.a.createElement("div",{onMouseOver:function(){return f(e)},onMouseOut:function(){return f(null)},onClick:function(){return g(e)},style:{paddingLeft:5,paddingRight:5,backgroundColor:(null===d||void 0===d?void 0:d.doi)===e.doi?"rgba(0,0,255,0.1)":"white"}},a.a.createElement(ne.a,{fill:!0,anchor:"left"},a.a.createElement(Se,{key:u,similarities:[e.citation],maxOfSum:1,color:[L.f[9][1]]}),a.a.createElement(Z.a,{size:"xsmall"},e.numReferenced))),a.a.createElement("div",{onMouseOver:function(){return f(e)},onMouseOut:function(){return f(null)},onClick:function(){return g(e)},style:{paddingLeft:5,paddingRight:5,backgroundColor:(null===d||void 0===d?void 0:d.doi)===e.doi?"rgba(0,0,255,0.1)":"white"}},a.a.createElement(Se,{key:u,similarities:e.keywordSims,maxOfSum:1,color:L.h})),a.a.createElement("div",{onMouseOver:function(){return f(e)},onMouseOut:function(){return f(null)},onClick:function(){return g(e)},style:{paddingLeft:5,paddingRight:5,backgroundColor:(null===d||void 0===d?void 0:d.doi)===e.doi?"rgba(0,0,255,0.1)":"white"}},a.a.createElement(Se,{key:u,similarities:e.seedPaperSims,maxOfSum:1,color:L.e[9].slice(3)})),a.a.createElement("div",{onMouseOver:function(){return f(e)},onMouseOut:function(){return f(null)},onClick:function(){return g(e)},style:{paddingLeft:5,paddingRight:5,backgroundColor:(null===d||void 0===d?void 0:d.doi)===e.doi?"rgba(0,0,255,0.1)":"white"}},a.a.createElement(Se,{key:u,similarities:e.referencedBySeedPapers,maxOfSum:1,color:L.e[9].slice(3)})),a.a.createElement("div",{onMouseOver:function(){return f(e)},onMouseOut:function(){return f(null)},onClick:function(){return g(e)},style:{paddingLeft:5,paddingRight:5,backgroundColor:(null===d||void 0===d?void 0:d.doi)===e.doi?"rgba(0,0,255,0.1)":"white"}},a.a.createElement(Se,{key:u,similarities:e.referencesSeedPapers,maxOfSum:1,color:L.e[9].slice(3)})))}))))):a.a.createElement(Z.a,null,"Enter search keywords on the left")))},Re=t(313),Me=t(302),Ae=t(305),Le=t(303),Te=t(308),Ie=t(304),De=function(e){var n=e.svgWidth,t=(e.userInputKeywords,e.wordCounts),r=e.onClick,i=t.reduce((function(e,n){return Math.max(e,n.count)}),0);return a.a.createElement("svg",{width:n,height:25*t.length},t.map((function(e,t){var o=e.word,l=e.count,c=e.isSelected;return a.a.createElement(a.a.Fragment,null,a.a.createElement("rect",{x:n/2,y:25*t,onClick:function(){return r(o)},width:l/i*n*.4,height:20,fill:c?L.h[Math.min(9,c.index)]:"rgba(128, 128, 128, 0.3)"}),a.a.createElement("text",{x:0,y:25*t+15},o))})))},We=function(e){var n=e.targetPapers,t=k(),i=S((function(e){return e.overview.keywords})),o=Object(r.useMemo)((function(){var e={};return n.forEach((function(n){D(n.title+" "+n.abstract).forEach((function(n){return e[n]?e[n]+=1:e[n]=1})),n.keywords.map((function(e){return e.toLocaleLowerCase().split(" ")})).reduce((function(e,n){return e.concat(n)}),[]).forEach((function(n){return e[n]?e[n]+=1:e[n]=1}))})),Object.entries(e).sort((function(e,n){return n[1]-e[1]})).slice(0,50).map((function(e){var n=Object(h.a)(e,2),t=n[0],r=n[1];return{word:t,count:r,isSelected:i.map((function(e,n){return{keyword:e,index:n}})).find((function(e){var n=e.keyword;e.index;return n.split(" ").includes(t)}))}}))}),[i,n]),l=Object(r.useRef)(null),c=Object(r.useState)(null),s=Object(h.a)(c,2),u=s[0],d=s[1];return Object(r.useLayoutEffect)((function(){l.current&&!u&&d(l.current.getBoundingClientRect().width)})),a.a.createElement("div",{className:"styled-scroll",style:{height:"100%",width:"100%",overflowY:"scroll"},ref:l},u&&a.a.createElement(De,{svgWidth:.9*u,userInputKeywords:i,wordCounts:o,onClick:function(e){i.includes(e.toLocaleLowerCase())?t(b.setKeywords(i.filter((function(n){return n!==e})))):t(b.setKeywords([].concat(Object(M.a)(i),[e])))}}))},Ke=function(){var e=Object(r.useState)(""),n=Object(h.a)(e,2),t=n[0],i=n[1],o=S((function(e){return e.overview.keywords})),s=S((function(e){return e.overview.seedPapers})),u=S((function(e){return e.overview.paperEntries.slice(0,30)})),d=Object(r.useState)("from search result"),f=Object(h.a)(d,2),m=f[0],g=f[1],p=S((function(e){return e.overview.forceAllKeywords})),y=k();return a.a.createElement(C.a,{height:"100%",width:"100%",background:"white"},a.a.createElement(Q.a,{pad:"small"},a.a.createElement(x.a,{level:"4"},"Search Box")),a.a.createElement(ee.a,{pad:"small",gap:"small"},a.a.createElement(c.a,{fill:!0},a.a.createElement(l.a,{fill:!0,rows:["2fr","5fr"]},a.a.createElement("div",{style:{overflowY:"scroll"},className:"styled-scroll"},a.a.createElement(c.a,{direction:"row",align:"baseline",gap:"small"},a.a.createElement(x.a,{level:"5"},"Keywords"),a.a.createElement(R.a,{color:"blue",onClick:function(){y(b.setKeywords([]))}},"clear")),a.a.createElement(c.a,{direction:"row",align:"center",gap:"small"},a.a.createElement(Re.a,{size:10,checked:p,onChange:function(e){return y(b.setForceAllKeywords(!p))}}),"Should contain all keywords"),a.a.createElement(Me.a,{onSubmit:function(){o.includes(t.toLocaleLowerCase())||y(b.setKeywords([].concat(Object(M.a)(o),[t]))),i("")}},a.a.createElement(Ae.a,{value:t,onChange:function(e){return i(e.target.value)}}),a.a.createElement(Le.a,{data:o.map((function(e){return{entry:e}})),primaryKey:function(e){return e.entry},pad:{left:"small",right:"none",top:"none",bottom:"none"}},(function(e,n){return a.a.createElement(l.a,{fill:!0,key:e.doi,columns:["auto","1fr","auto"],pad:"xsmall",gap:"small",align:"center"},a.a.createElement("div",{style:{width:20,height:20,backgroundColor:L.h[Math.min(n,9)]}}),a.a.createElement(Z.a,{size:"small"},e.entry),a.a.createElement(R.a,{icon:a.a.createElement(Ie.a,{size:"small"}),hoverIndicator:!0,onClick:function(){y(b.setKeywords(o.filter((function(n){return n!==e.entry}))))}}))})))),a.a.createElement(c.a,{fill:!0,pad:"small",gap:"small",height:{min:"0px"}},a.a.createElement(x.a,{level:"5"},"Recommended"),a.a.createElement(Te.a,{margin:{bottom:"small"},name:"target paper",options:["from search result","from seed papers"],value:m,onChange:function(e){return g(e.target.value)}}),a.a.createElement(We,{targetPapers:"from search result"===m?u:s}))))))},_e=function(){var e=S((function(e){return e.overview.seedPapers})),n=k();return a.a.createElement(C.a,{height:"100%",width:"100%",background:"white"},a.a.createElement(Q.a,{pad:"small"},a.a.createElement(c.a,{direction:"row",align:"baseline",gap:"small"},a.a.createElement(x.a,{level:"4"},"Seed papers"),a.a.createElement(R.a,{color:"blue",onClick:function(){n(b.setSeedPapers([]))}},"clear"))),a.a.createElement(ee.a,null,a.a.createElement(Me.a,{onSubmit:function(){}},a.a.createElement(Le.a,{data:e.map((function(e){return e})),primaryKey:function(e){return e.title},pad:{left:"small",right:"none",top:"none",bottom:"none"}},(function(t,r){return a.a.createElement(l.a,{fill:!0,key:t.doi,columns:["auto","1fr","auto"],pad:"xsmall",gap:"small",align:"center"},a.a.createElement("div",{style:{width:20,minWidth:20,height:20,backgroundColor:L.e[9].slice(3)[Math.min(r,5)]}}),a.a.createElement(Z.a,{size:"small"},t.title),a.a.createElement(R.a,{icon:a.a.createElement(Ie.a,{size:"small"}),hoverIndicator:!0,onClick:function(){n(b.setSeedPapers(e.filter((function(e){return e!==t}))))}}))})))))},Be=function(){var e=S((function(e){return e.overview.paperEntries})),n=k();return e.length||n(b.getData.thunk()),a.a.createElement(l.a,{fill:!0,columns:["2fr","10fr","2fr"]},a.a.createElement(c.a,{fill:!0},a.a.createElement(Ke,null)),a.a.createElement(c.a,{fill:!0},a.a.createElement(l.a,{fill:!0,rows:["3fr","2fr"]},a.a.createElement(xe,null),a.a.createElement(c.a,{fill:!0},a.a.createElement(l.a,{fill:!0,columns:["1fr","1fr"]},a.a.createElement(F,null),a.a.createElement($,null))))),a.a.createElement(c.a,{fill:!0},a.a.createElement(_e,null)))},ze=t(69);var He=function(){return a.a.createElement("div",{className:"App",style:{height:"100%"}},a.a.createElement(ze.Header,{"aria-label":"Papers101"},a.a.createElement(ze.HeaderName,{href:"#",prefix:""},"Papers101")),a.a.createElement("div",{style:{height:"100%",marginTop:"48px"}},a.a.createElement(Be,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ve=t(28),Ne={hoveredEntry:null,selectedEntry:null},Fe=Object(Ve.c)({overview:_,ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case Object(u.getType)(O):return Object(s.a)(Object(s.a)({},e),{},{hoveredEntry:n.payload});case Object(u.getType)(j):return Object(s.a)(Object(s.a)({},e),{},{selectedEntry:n.payload});default:return e}}}),Ye=t(133),qe=t(134),Ge=Object(Ve.d)(Fe,Object(Ve.a)(Ye.a,Object(qe.createLogger)({predicate:function(e,n){return n.type!==Object(u.getType)(O)}})));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(E.a,{store:Ge},a.a.createElement(He,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[217,1,2]]]);
//# sourceMappingURL=main.3e78710f.chunk.js.map